var e;!function(e){const t={},o={idPrefix:"amegmen_id_"},i=(e,t,o,i)=>{let r="";if(i&&!e.getAttribute("id"))r=`${t.idPrefix}_${(new Date).getTime()}_${o}`,e.setAttribute("id",r);else if(!i&&e.getAttribute("id")){const o=e.getAttribute("id")||"";r=o,new RegExp(t.idPrefix,"gi").test(o||"")&&e.removeAttribute("id")}return r};console.log("==================================================toggleUniqueId",i),console.log("==================================================defaults",o);const r=(e,t)=>{let o=e.eH.length;for(;o--;)e.eH[o].element.isEqualNode&&e.eH[o].element.isEqualNode(t)&&(e.eH[o].remove(),e.eH.splice(o,1))};class n{root;options;constructor(e,t){this.root=e,this.options=t,((e,t)=>{console.log("==================================================root",e),console.log("==================================================options",t)})(this.root,this.options)}}e.init=(e,o)=>{const r=e.getAttribute("id")||i(e,o,0,!0);t[r]||(t[r]=new n(e,o))},e.initGlobal=()=>{var t,i;(t=document,i="[data-amegmen]",Array.from(t.querySelectorAll(i))).forEach(t=>{try{const i=Object.fromEntries(Object.entries({idPrefix:t.dataset.amegmenIdPrefix}).filter(([,e])=>void 0!==e)),r={...o,...i};e.init(t,r)}catch(e){console.error(e)}})},e.destroyGlobal=()=>{console.log("==================================================removeEventListeners",r)},[].push(((e,t,o)=>{const i={element:e,remove:()=>{e.removeEventListener(t,o,!1)}};return e.addEventListener(t,o,!1),i})(document,"DOMContentLoaded",e.initGlobal))}(e||(e={}));var t=e;export{t as default};
