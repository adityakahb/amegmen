var __assign=this&&this.__assign||function(){__assign=Object.assign||function(w){for(var p,q=1,A=arguments.length;q<A;q++){p=arguments[q];for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(w[u]=p[u])}return w};return __assign.apply(this,arguments)},AMegMen;
(function(w){var p={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return.5>a?2*a*a:-1+(4-2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*
a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}},q=["slide","fade"],A="Animation effect function not found in presets. Try using one from (".concat(q.join(", "),"). Setting the animation effect to ").concat(q[0],"."),u="Easing function not found in presets. Try using one from [".concat(Object.keys(p).join(", "),"]. Setting the easing function to ").concat(Object.keys(p)[0],"."),D={activeClass:"__amegmen-active",actOnHover:!1,
animationEffect:q[0],animationSpeed:500,breakpoints:[],disabledClass:"__amegmen-disabled",easingFunction:"linear",editModeClass:"__amegmen-editmode",hiddenClass:"__amegmen-hidden",idPrefix:"__amegmen",isRtl:!1,l1Cols:3,layout:"mobile",touchThreshold:125},L='a:not([tabindex^="-"]) button:not([tabindex^="-"]) input:not([tabindex^="-"]) textarea:not([tabindex^="-"]) select:not([tabindex^="-"]) details:not([tabindex^="-"]) [tabindex]:not([tabindex^="-"]) [contenteditable="true"]:not([tabindex^="-"])'.split(" "),
M=':scope > a:not([tabindex^="-"]);:scope > button:not([tabindex^="-"]);:scope > input:not([tabindex^="-"]);:scope > textarea:not([tabindex^="-"]);:scope > select:not([tabindex^="-"]);:scope > details:not([tabindex^="-"]);:scope > [tabindex]:not([tabindex^="-"]);:scope > [contenteditable="true"]:not([tabindex^="-"])'.split(";"),r={},f=0,t=0,k=0,B,E=!1,C=function(a){return a.replace(/^\s+|\s+$|\s+(?=\s)/g,"")},v=function(a,e){return"string"===typeof(null===a||void 0===a?void 0:a.className)?-1<a.className.split(" ").indexOf(e)?
!0:!1:!1},x=function(a,e){if("string"===typeof(null===a||void 0===a?void 0:a.className)){var c=e.split(" "),b=c.length;for(f=0;f<b;f++){var d=c[f];v(a,d)||(a.className+=" "+d)}a.className=C(a.className)}},y=function(a,e){if("string"===typeof(null===a||void 0===a?void 0:a.className)){var c=e.split(" "),b=a.className.split(" "),d=b.length;for(f=0;f<d;f++)-1<c.indexOf(b[f])&&(b.splice(f,1),f--);a.className=C(b.join(" "))}},N=function(a){return parseFloat(a.toFixed(4))},O=function(){"undefined"!==typeof B&&
clearTimeout(B);B=setTimeout(function(){for(var a in r)r.hasOwnProperty(a)&&F(r[a])},0)},P=function(a,e){for(var c=a.eH.length;c--;)a.eH[c].element.isEqualNode&&a.eH[c].element.isEqualNode(e)&&(a.eH[c].remove(),a.eH.splice(c,1))},Q=function(a,e,c){P;var b={element:a,remove:function(){a.removeEventListener(e,c,!1)}};a.addEventListener(e,c,!1);return b},F=function(a){for(var e,c=null===window||void 0===window?void 0:window.innerWidth,b=a.bpall[0],d=0;d<a.bpall.length;){if(a.bpall[d+1]&&a.bpall[d+1].bp>
c||"undefined"===typeof a.bpall[d+1]){b=a.bpall[d];break}d++}(a.bpoOld||{}).bp!==b.bp&&(a.bpo=b,a.bpoOld=b,null===(e=a.root)||void 0===e?void 0:e.setAttribute("data-amegmen-viewport",b.ly))},R=function(a){try{for(var e=[],c=a.length;c--;)-1===e.indexOf(a[c].bp)&&e.push(a[c].bp);if(e.length===a.length)return{val:!0,bp:a.sort(function(b,d){return parseFloat("".concat(b.bp))-parseFloat("".concat(d.bp))})};console.error("Duplicate breakpoints found");return{}}catch(b){return console.error("Error parsing breakpoints"),
{}}},l={$:function(a,e){return a.querySelector(e)},$$:function(a,e){return l.arr(a.querySelectorAll(e)||[])},arr:function(a){return Array.prototype.slice.call(a)},closest:function(a,e){return a.closest(e)},next:function(a){return a.nextElementSibling},parent:function(a){return a.parentNode},prev:function(a){return a.previousElementSibling}},G=function(a,e){var c=e?M.join(","):L.join(",");c=l.$$(a,c);var b=[];for(k=0;k<c.length;k++){var d=c[k];d=!d||d.nodeType!==Node.ELEMENT_NODE||v(d,"disabled")?
!0:"undefined"!==typeof d.disabled?d.disabled:d.hasAttribute("disabled")&&"false"!==d.getAttribute("disabled");if(d=!d)d=c[k],d=0===d.getClientRects().length?!1:"visible"===getComputedStyle(d).getPropertyValue("visibility");d&&b.push(c[k])}return b},S=function(a){a.dom.toggle&&a.eH.push(Q(a.dom.toggle,"click",function(){a.dom.mask&&a.dom.main&&a.dom.toggle&&(v(a.dom.toggle,"active")?y(a.dom.toggle,"active"):x(a.dom.toggle,"active"),v(a.dom.mask,"active")?y(a.dom.mask,"active"):x(a.dom.mask,"active"),
v(a.dom.main,"active")?y(a.dom.main,"active"):x(a.dom.main,"active"))}))},K=function(){return function(a,e,c){var b=__assign(__assign({},D),c);"function"===typeof b.beforeInitFn&&b.beforeInitFn();c={};c.root=e;e=b.activeClass;var d=b.afterInitFn,g=b.beforeInitFn,m=b.disabledClass,h=b.editModeClass,n=b.hiddenClass,z=b.actOnHover,H=b.l1Cols,T=b.layout,U=b.isRtl,V=b.animationSpeed,W=b.touchThreshold;if(-1<q.indexOf(b.animationEffect))var I=b.animationEffect;else console.warn(A),I=q[0];if(p[b.easingFunction])var J=
b.easingFunction;else console.warn(u),J=Object.keys(p)[0];e={activeCls:e,aFn:d,bFn:g,disableCls:m,editCls:h,hidCls:n,hov:z,l1c:H,ly:T,res:[],rtl:U,speed:V,threshold:W,effect:I,easeFn:J};if(b.breakpoints&&0<b.breakpoints.length)for(d=0;d<b.breakpoints.length;d++)g={bp:b.breakpoints[d].minWidth,hov:b.breakpoints[d].actOnHover,ly:b.breakpoints[d].layout},e.res&&e.res.push(g);c.o=e;b=c.o;e={hov:b.hov,ly:b.ly,bp:0};d=[];if(b.res&&0<b.res.length)for(g=b.res.length;g--;)d.push(b.res[g]);d.push(e);b=R(d);
if(b.val){e=[b.bp[0]];for(d=1;d<b.bp.length;)g=e[d-1],m=__assign(__assign({},g),b.bp[d]),"undefined"===typeof m.hov&&(m.hov=g.hov),"undefined"===typeof m.ly&&(m.ly=g.ly),e.push(m),d++;b=e}else b=[];c.bpall=b;c.eH=[];if(0<c.bpall.length){c.dom={};if(c.root){c.dom.main=l.$(c.root,"[data-amegmen-main]");c.dom.mask=l.$(c.root,"[data-amegmen-mask]");c.dom.nav=l.$(c.root,"[data-amegmen-nav]");c.dom.root=c.root;c.dom.toggle=l.$(c.root,"[data-amegmen-toggle]");if(b=l.$(c.root,"[data-amegmen-level='0']"))if(c.dom.l0ul=
{},c.dom.l0ul.e=b,c.dom.l0ul.l=[],(b=l.$$(c.dom.l0ul.e,":scope > li"))&&0<b.length)for(f=0;f<b.length;f++){e={};e.p=b[f];e.e=G(e.p,!0)[0];e.s={};e.s.e=l.$(e.p,":scope > ".concat("[data-amegmen-subnav='0']"));if(e.s.e)for(e.s.c=[],d=l.$$(e.s.e,"".concat("[data-amegmen-col]")),t=0;t<d.length;t++){g={};g.e=d[t];if(g.e)for(g.a=[],h=G(g.e,!1),k=0;k<h.length;k++)if(m=l.closest(h[k],"[data-amegmen-landing='0']")||null)e.s.l=h[k];e.s.c.push(g)}c.dom.l0ul.l.push(e)}console.log("==========core.dom",c.dom)}S(c);
F(c)}r[a]=c}}(),X=function(){function a(){var e=this;this.init=function(c,b){x;y;N;var d=null===document||void 0===document?void 0:document.querySelectorAll(c),g=d.length,m=Object.keys(r).length;if(0<g){for(f=0;f<g;f++){var h=d[f].getAttribute("id"),n=!1;if(h)for(t=0;t<m;t++)if(r[h]){n=!0;break}if(!n){n=void 0;var z=d[f].getAttribute("[data-amegmen-auto]".slice(1,-1))||"";if(z)try{n=JSON.parse(C(z).replace(/'/g,'"'))}catch(H){console.error("Unable to parse the options string")}else n=b;h?new K(h,
d[f],n):(h=h?h:__assign(__assign({},D),n).idPrefix+"_"+(new Date).getTime()+"_root_"+(f+1),d[f].setAttribute("id",h),new K(h,d[f],n))}}window&&0<Object.keys(r).length&&!E&&(E=!0,window.addEventListener("resize",O,!1))}else"[data-amegmen-auto]"!==c&&console.error('init() "'.concat(c,'": ').concat("Element(s) with the provided query do(es) not exist"))};this.initGlobal=function(){e.init("[data-amegmen-auto]",{})};this.destroy=function(c){c}}a.getInstance=function(){a.instance||(a.instance=new a);return a.instance};
a.instance=null;return a}();w.Root=X})(AMegMen||(AMegMen={}));AMegMen.Root.getInstance().initGlobal();"object"===typeof exports&&"undefined"!==typeof module&&(module.exports=AMegMen);
