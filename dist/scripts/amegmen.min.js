var AMegMen,__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};!function(e){"use strict";function t(){try{window.document.querySelector(":scope body")}catch(e){for(var r=["querySelector","querySelectorAll"],t=0;t<r.length;t++)!function(l){var o=Element.prototype[r[l]];Element.prototype[r[l]]=function(e){if(/(^|,)\s*:scope/.test(e)){var t=this.id;this.id="ID_"+Date.now(),e=e.replace(/((^|,)\s*):scope/g,"$1#"+this.id);var n=window.document[r[l]](e);return this.id=t,n}return o.call(this,e)}}(t)}}function s(e){return e.replace(/^\s+|\s+$/g,"")}function b(e,t,n){var l={currentElement:e,removeEvent:function(){e.removeEventListener(t,n,!1)}};return e.addEventListener(t,n,!1),l}function y(e,t,n,l,o,r){e&&0<s(S.closestl0li||"").length&&(e.target.closest("#".concat(S.closestl0li))||w(!0,t,n,l,o,r))}function H(e,t,n,l,o,r){e&&0<s(S.closestl1li||"").length&&(e.target.closest("#".concat(S.closestl1li))||w(!1,t,n,l,o,r))}function w(e,t,n,l,o,r){for(var a in p){var s=p[a],c=s.root,i=s.offcanvas,a=!1;if("mouseover"===r&&!0===(s.settings||{}).actOnHover&&(a=!0),(a="click"===r?!0:a)&&k(c,n)){var a=s.mainEl,u=s.l0nav||[];e&&(O(i,l),O(c,n),O(a,t)),O(i,o);for(var d=u.length-1;0<=d;d--){var f=u[d]||{};e&&(f.l0anchor&&(O(f.l0anchor,n),f.l0anchor.setAttribute("aria-expanded","false")),f.l0panel&&(O(f.l0panel,n),f.l0panel.setAttribute("aria-expanded","false"),f.l0panel.setAttribute("aria-hidden","true"))),f.navelement&&O(f.navelement,t);var v=f.l1nav||[];if(0<v.length)for(var h=v.length-1;0<=h;h--){var m=v[h]||{};m.l1anchor&&(O(m.l1anchor,n),m.l1anchor.setAttribute("aria-expanded","false")),m.l1panel&&(O(m.l1panel,n),m.l1panel.setAttribute("aria-expanded","false"),m.l1panel.setAttribute("aria-hidden","true"))}}}}}function E(e,t,n,l,o,r,a){e&&e.preventDefault(),w(t,n,l,o,r,a)}function q(e,t,n,l,o,r,a,s,c){e&&e.preventDefault(),w(l,o,r,a,s,c),O(t,r),O(n,r)}var p={},S={},d={activeCls:"__amegmen-active",actOnHover:!1,actOnHoverAt:1280,backBtnCls:"__amegmen--back-cta",closeBtnCls:"__amegmen--close-cta",colCls:"__amegmen--col",colShiftCls:"__amegmen-shift",colWidthCls:"__amegmen-width",focusCls:"__amegmen-focus",hoverCls:"__amegmen-hover",idPrefix:"__amegmen_id",isRTL:!1,l0AnchorCls:"__amegmen--anchor-l0",l0PanelCls:"__amegmen--panel-l0",l1ActiveCls:"__amegmen--l1-active",l1AnchorCls:"__amegmen--anchor-l1",l1PanelCls:"__amegmen--panel-l1",l2ActiveCls:"__amegmen--l2-active",l2AnchorCls:"__amegmen--anchor-l2",landingCtaCls:"__amegmen--landing",lastcolCls:"__amegmen--col-last",mainBtnCls:"__amegmen--main-cta",mainElementCls:"__amegmen--main",offcanvasCls:"__amegmen--canvas",overflowHiddenCls:"__amegmen--nooverflow",panelCls:"__amegmen--panel",rootCls:"__amegmen",rtl_Cls:"__amegmen--r-to-l",shiftColumns:!1,supportedCols:4,toggleBtnCls:"__amegmen--toggle-cta"},k=function(e,t){return!(!e||"string"!=typeof e.className)&&-1<e.className.split(" ").indexOf(t)},x=function(e,t){if(e&&"string"==typeof e.className){for(var n=t.split(" "),l=n.length,o=0;o<l;o++){var r=n[o];k(e,r)||(e.className+=" "+r)}e.className=s(e.className)}},O=function(e,t){if(e&&"string"==typeof e.className){for(var n=t.split(" "),l=e.className.split(" "),o=l.length,r=0;r<o;r++){var a=l[r];-1<n.indexOf(a)&&(l.splice(r,1),r--)}e.className=s(l.join(" "))}},B=function(e,t,n,l){t.idPrefix&&(l&&!e.getAttribute("id")?e.setAttribute("id","".concat(t.idPrefix,"_").concat((new Date).getTime(),"_").concat(n)):!l&&e.getAttribute("id")&&(l=e.getAttribute("id"),new RegExp(t.idPrefix,"gi").test(l||"")&&e.removeAttribute("id")))},c=function(e,t){if(0<(e.eHandlers||[]).length)for(var n=e.eHandlers.length;n--;)e.eHandlers[n].currentElement.isEqualNode&&e.eHandlers[n].currentElement.isEqualNode(t)&&(e.eHandlers[n].removeEvent(),e.eHandlers.splice(n,1))},P=function(h,e){var i=h.togglenav,t=h.closenav,m=h.offcanvas,n=h.tomain,l=h.toprev,p=e.overflowHiddenCls||"",g=e.activeCls,r=e.hoverCls,a=e.focusCls,C=e.l1ActiveCls,A=e.l2ActiveCls,s={actOnHover:e.actOnHover||!1,actOnHoverAt:e.actOnHoverAt||1280};if(e.landingCtaCls&&h.root)for(var o=h.root.querySelectorAll(".".concat(e.landingCtaCls," > a")),c=function(e){var t=o[e];t&&(h.eHandlers.push(b(t,"mouseenter",function(){x(t,r)})),h.eHandlers.push(b(t,"mouseleave",function(){O(t,r)})),h.eHandlers.push(b(t,"focus",function(){x(t,a)})),h.eHandlers.push(b(t,"blur",function(){O(t,a)})))},u=o.length-1;0<=u;u--)c(u);if(i&&m&&h.eHandlers.push(b(i,"click",function(e){var t,n,l,o,r,a,s,c;t=i,n=m,l=!0,o=p,r=g,a=C,s=A,c="click",(e=e)&&e.preventDefault(),k(t,r)?q(e,t,n,l,o,r,a,s,c):(x(t,r),x(n,r))})),i&&t&&m&&h.eHandlers.push(b(t,"click",function(e){q(e,i,m,!0,p,g,C,A,"click")})),0<n.length)for(u=n.length-1;0<=u;u--){var d=n[u];h.eHandlers.push(b(d,"click",function(e){E(e,!0,p,g,C,A,"click")}))}if(0<l.length)for(u=l.length-1;0<=u;u--){var f=l[u];h.eHandlers.push(b(f,"click",function(e){E(e,!1,p,g,C,A,"click")}))}for(var _=h.l0nav||[],v=function(e){var e=_[e],d=e.l0anchor,f=e.l0panel,v=e.navelement,o=e.l1nav||[];d&&(h.eHandlers.push(b(d,"click",function(e){var t,n,l,o,r,a,s,c,i,u;t=e,n=d,l=f,o=h.root,r=h.mainEl,a=m,s=p,c=g,i=C,u=A,e="click",t&&l&&t.preventDefault(),n&&k(n,c)?(S.elem=null,S.closestl0li="",w(!0,s,c,i,u,e)):n&&l&&o&&a&&r&&(w(!0,s,c,i,u,e),S.elem=o,S.closestl0li=n.closest("li").getAttribute("id"),n.setAttribute("aria-expanded","true"),l.setAttribute("aria-expanded","true"),l.setAttribute("aria-hidden","false"),x(o,c),x(a,i),x(n,c),x(l,c),x(r,s))})),h.eHandlers.push(b(d,"mouseenter",function(){var e,t,n;t=s.actOnHover,n=s.actOnHoverAt,x(e=d,r),t&&n<=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)&&e.click()})),h.eHandlers.push(b(d,"mouseleave",function(){O(d,r)})),h.eHandlers.push(b(d,"focus",function(){x(d,a)})),h.eHandlers.push(b(d,"blur",function(){O(d,a)}))),f&&(h.eHandlers.push(b(f,"click",function(e){H(e,p,g,C,A,"click")})),s.actOnHover&&h.eHandlers.push(b(f,"mouseover",function(e){H(e,p,g,C,A,"mouseover")})));for(var t=function(e){var u=o[e].l1anchor,d=o[e].l1panel,n=o[e].l2nav||[];u&&(h.eHandlers.push(b(u,"click",function(e){var t,n,l,o,r,a,s,c,i;t=u,n=d,l=m,o=v,r=p,a=g,s=C,c=A,i="click",(e=e)&&n&&e.preventDefault(),t&&k(t,a)?(S.closestl1li="",w(!1,r,a,s,c,i)):t&&n&&l&&o&&(S.closestl1li=t.closest("li").getAttribute("id"),w(!1,r,a,s,c,i),t.setAttribute("aria-expanded","true"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-hidden","false"),x(l,c),x(t,a),x(n,a),x(o,r))})),h.eHandlers.push(b(u,"mouseenter",function(){var e,t,n;t=s.actOnHover,n=s.actOnHoverAt,x(e=u,r),t&&n<=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)&&e.click()})),h.eHandlers.push(b(u,"mouseleave",function(){O(u,r)})),h.eHandlers.push(b(u,"focus",function(){x(u,a)})),h.eHandlers.push(b(u,"blur",function(){O(u,a)})));for(var t=function(e){var t=n[e];h.eHandlers.push(b(t,"mouseenter",function(){x(t,r)})),h.eHandlers.push(b(t,"mouseleave",function(){O(t,r)})),h.eHandlers.push(b(t,"focus",function(){x(t,a)})),h.eHandlers.push(b(t,"blur",function(){O(t,a)}))},l=n.length-1;0<=l;l--)t(l)},n=o.length-1;0<=n;n--)t(n)},u=_.length-1;0<=u;u--)v(u);h.eHandlers.push(b(document,"click",function(e){y(e,p,g,C,A,"click")})),s.actOnHover&&h.eHandlers.push(b(window,"mouseover",function(e){y(e,p,g,C,A,"mouseover")}))},f=function(e,t,n){this.core={},this.core=function(e,t,n){if(x(t,n.rootCls||""),e.root=t,e.settings=n,e.mainEl=e.root.querySelector(".".concat(n.mainElementCls)),e.togglenav=e.root.querySelector(".".concat(n.toggleBtnCls)),e.closenav=e.root.querySelector(".".concat(n.closeBtnCls)),e.offcanvas=e.root.querySelector(".".concat(n.offcanvasCls)),e.tomain=e.root.querySelectorAll(".".concat(n.mainBtnCls)),e.toprev=e.root.querySelectorAll(".".concat(n.backBtnCls)),e.eHandlers=[],e.settings.isRTL&&x(e.root,n.rtl_Cls),e.mainEl){e.l0nav=[];for(var l=e.mainEl.querySelectorAll(":scope > ul > li"),o=l.length-1;0<=o;o--){var r=l[o];B(r,n,o,!0);var a={};if(a.l0li=r,a.l0anchor=r.querySelector(":scope > a"),a.l0anchor){x(a.l0anchor,n.l0AnchorCls);r=r.querySelector(":scope > .".concat(n.panelCls));if(r){a.l0anchor.setAttribute("role","button"),a.l0anchor.setAttribute("aria-expanded","false"),r.setAttribute("role","region"),r.setAttribute("aria-expanded","false"),r.setAttribute("aria-hidden","true"),x(r,n.l0PanelCls),a.l0panel=r,a.l0tomain=r.querySelector(".".concat(n.mainBtnCls));var s=r.querySelector(":scope > nav");if(s){var c=(a.navelement=s).querySelectorAll(":scope > .".concat(n.colCls));if(a.l1cols=c.length,a.l1nav=[],0<c.length){for(var i=(n.supportedCols||0)-c.length,u=s.querySelectorAll(":scope > .".concat(n.colCls," > ul > li")),d=parseInt((n.supportedCols||0)+""),f=c.length-1;0<=f;f--){var v=c[f];x(v,"".concat(n.colCls,"-").concat(0<d?d:2)),f===d-1&&1<f&&x(v,n.lastcolCls)}for(f=u.length-1;0<=f;f--){var h=u[f];B(h,n,f,!0);var m={};m.l1li=h,m.l1anchor=h.querySelector(":scope > a"),x(m.l1anchor,n.l1AnchorCls||"");var p=h.querySelector(":scope > .".concat(n.panelCls));if(p&&m.l1anchor){m.l1anchor.setAttribute("role","button"),m.l1anchor.setAttribute("aria-expanded","false"),p.setAttribute("role","region"),p.setAttribute("aria-expanded","false"),p.setAttribute("aria-hidden","true"),x(p,n.l1PanelCls),m.l1panel=p,m.l1toback=p.querySelector(".".concat(n.backBtnCls));h=p.querySelector(":scope > nav");if(h){var g=(m.navelement=h).querySelectorAll(":scope > .".concat(n.colCls));if(0<g.length){n.shiftColumns&&x(s,"".concat(n.colShiftCls,"-").concat(i)),x(p,"".concat(n.colWidthCls,"-").concat(i));for(var C=h.querySelectorAll(":scope > .".concat(n.colCls," > ul > li > a")),A=C.length-1;0<=A;A--){var _=C[A];x(_,n.l2AnchorCls)}for(A=g.length-1;0<=A;A--){var b=g[A];x(b,"".concat(n.colCls||"","-1"))}m.l2nav=C}}}a.l1nav.push(m)}}}}}e.l0nav.push(a)}}return P(e,n),e}(this.core,t,__assign(__assign({},d),n)),p[e]=this.core},n=(l.getInstance=function(){return l.instance=!l.instance?new l:l.instance},l.instance=null,l);function l(){var u=this;this.instances={},this.init=function(e,t){var n=document.querySelectorAll(e),l=n.length,o=0;for(r in u.instances)u.instances.hasOwnProperty(r)&&o++;if(0<l)for(var r=0;r<l;r++){var a,s=n[r].getAttribute("id"),c=!1;if(s)for(var i=0;i<o;i++)if(u.instances[s]){c=!0;break}c||(s?u.instances[s]=new f(s,n[r],t):(a=s||__assign(__assign({},t),d).idPrefix+"_"+(new Date).getTime()+"_root_"+(r+1),n[r].setAttribute("id",a),u.instances[a]=new f(a,n[r],t)))}else console.error("Element(s) with the provided query do(es) not exist")},this.destroy=function(e){var t=document.querySelectorAll(e),n=t.length;if(0<n)for(var l=0;l<n;l++){var o=t[l].getAttribute("id");console.log("========id",o),o&&u.instances[o]&&(console.log("=========this.instances[id]",u.instances[o].root),function(e,t){if(t.root){var n=t.settings;console.log("."+n.landingCtaCls+" > a,."+n.toggleBtnCls+",."+n.closeBtnCls+",."+n.mainBtnCls+",."+n.backBtnCls+",."+n.l0AnchorCls+",."+n.l0PanelCls+",."+n.l1AnchorCls+",."+n.l2AnchorCls);for(var l=t.root.querySelectorAll("."+n.landingCtaCls+" > a,."+n.toggleBtnCls+",."+n.closeBtnCls+",."+n.mainBtnCls+",."+n.backBtnCls+",."+n.l0AnchorCls+",."+n.l0PanelCls+",."+n.l1AnchorCls+",."+n.l2AnchorCls),o=n.rootCls+" "+n.l0AnchorCls+" "+n.l0PanelCls+" "+n.l1AnchorCls+" "+n.l1PanelCls+" "+n.l2AnchorCls+" "+n.lastcolCls+" "+n.activeCls+" "+n.focusCls+" "+n.hoverCls+" "+n.rtl_Cls+" "+n.l2ActiveCls+" "+n.l1ActiveCls+" "+n.overflowHiddenCls,r=l.length-1;0<=r;r--){var a=l[r];c(t,a),(k(a,n.l0AnchorCls)||k(a,n.l1AnchorCls))&&"button"===a.getAttribute("role")&&(a.removeAttribute("role"),a.removeAttribute("aria-expanded")),(k(a,n.l0PanelCls)||k(a,n.l1PanelCls))&&"region"===a.getAttribute("role")&&(a.removeAttribute("role"),a.removeAttribute("aria-expanded"),a.removeAttribute("aria-hidden")),O(a,o),B(a,n,r,!1)}var s=0;for(r in p)p.hasOwnProperty(r)&&s++;1===s&&(c(t,document),n.actOnHover&&c(t,window)),O(t.root,o),delete p[e]}}(o,u.instances[o]),delete u.instances[o])}else console.error("Element(s) with the provided query do(es) not exist")},t(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;var n=t.parentElement||t.parentNode}while(null!==(t=n?n:t)&&1===t.nodeType);return null})}e.Root=n}(AMegMen=AMegMen||{}),"object"==typeof exports&&"undefined"!=typeof module&&(module.exports=AMegMen);