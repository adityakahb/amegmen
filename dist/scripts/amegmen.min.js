var __assign=this&&this.__assign||function(){__assign=Object.assign||function(u){for(var m,n=1,y=arguments.length;n<y;n++){m=arguments[n];for(var r in m)Object.prototype.hasOwnProperty.call(m,r)&&(u[r]=m[r])}return u};return __assign.apply(this,arguments)},AMegMen;
(function(u){var m={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return.5>a?2*a*a:-1+(4-2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*
a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}},n=["slide","fade"],y="Animation effect function not found in presets. Try using one from (".concat(n.join(", "),"). Setting the animation effect to ").concat(n[0],"."),r="Easing function not found in presets. Try using one from [".concat(Object.keys(m).join(", "),"]. Setting the easing function to ").concat(Object.keys(m)[0],"."),G={activeClass:"__amegmen-active",actOnHover:!1,
animationEffect:n[0],animationSpeed:500,breakpoints:[],disabledClass:"__amegmen-disabled",easingFunction:"linear",editModeClass:"__amegmen-editmode",hiddenClass:"__amegmen-hidden",idPrefix:"__amegmen",isRtl:!1,l1Cols:3,layout:"mobile",touchThreshold:125},N=function(){for(var a="",d='a button input textarea select details [tabindex] [contenteditable="true"]'.split(" "),c=d.length-1;0<=c;c--)a+="".concat(d[c],':not([tabindex^="-"]),');return a.slice(0,-1)}(),q={},f=0,z=0,A,H=!1,B=function(a){return a.replace(/^\s+|\s+$|\s+(?=\s)/g,
"")},t=function(a,d){return"string"===typeof(null===a||void 0===a?void 0:a.className)?-1<a.className.split(" ").indexOf(d)?!0:!1:!1},v=function(a,d){if("string"===typeof(null===a||void 0===a?void 0:a.className)){var c=d.split(" "),b=c.length;for(f=0;f<b;f++){var e=c[f];t(a,e)||(a.className+=" "+e)}a.className=B(a.className)}},w=function(a,d){if("string"===typeof(null===a||void 0===a?void 0:a.className)){var c=d.split(" "),b=a.className.split(" "),e=b.length;for(f=0;f<e;f++)-1<c.indexOf(b[f])&&(b.splice(f,
1),f--);a.className=B(b.join(" "))}},O=function(a){var d;(d=a)&&"object"===typeof d?("undefined"!==typeof d.jquery&&(d=d[0]),d="undefined"!==typeof d.nodeType):d=!1;return d&&0!==a.getClientRects().length?"visible"===getComputedStyle(a).getPropertyValue("visibility"):!1},P=function(a){return parseFloat(a.toFixed(4))},Q=function(){"undefined"!==typeof A&&clearTimeout(A);A=setTimeout(function(){for(var a in q)q.hasOwnProperty(a)&&I(q[a])},0)},R=function(a,d){for(var c=a.eH.length;c--;)a.eH[c].element.isEqualNode&&
a.eH[c].element.isEqualNode(d)&&(a.eH[c].remove(),a.eH.splice(c,1))},S=function(a,d,c){R;var b={element:a,remove:function(){a.removeEventListener(d,c,!1)}};a.addEventListener(d,c,!1);return b},I=function(a){for(var d,c=null===window||void 0===window?void 0:window.innerWidth,b=a.bpall[0],e=0;e<a.bpall.length;){if(a.bpall[e+1]&&a.bpall[e+1].bp>c||"undefined"===typeof a.bpall[e+1]){b=a.bpall[e];break}e++}(a.bpoOld||{}).bp!==b.bp&&(a.bpo=b,a.bpoOld=b,null===(d=a.root)||void 0===d?void 0:d.setAttribute("data-amegmen-viewport",
b.ly))},T=function(a){try{for(var d=[],c=a.length;c--;)-1===d.indexOf(a[c].bp)&&d.push(a[c].bp);if(d.length===a.length)return{val:!0,bp:a.sort(function(b,e){return parseFloat("".concat(b.bp))-parseFloat("".concat(e.bp))})};console.error("Duplicate breakpoints found");return{}}catch(b){return console.error("Error parsing breakpoints"),{}}},U=function(a){a.toggle&&a.eH.push(S(a.toggle,"click",function(){a.mask&&a.main&&a.toggle&&(t(a.toggle,"active")?w(a.toggle,"active"):v(a.toggle,"active"),t(a.mask,
"active")?w(a.mask,"active"):v(a.mask,"active"),t(a.main,"active")?w(a.main,"active"):v(a.main,"active"))}))},M=function(){return function(a,d,c){var b=__assign(__assign({},G),c);"function"===typeof b.beforeInitFn&&b.beforeInitFn();c={};c.root=d;d=b.activeClass;var e=b.afterInitFn,g=b.beforeInitFn,p=b.disabledClass,h=b.editModeClass,l=b.hiddenClass,x=b.actOnHover,J=b.l1Cols,V=b.layout,W=b.isRtl,X=b.animationSpeed,Y=b.touchThreshold;if(-1<n.indexOf(b.animationEffect))var K=b.animationEffect;else console.warn(y),
K=n[0];if(m[b.easingFunction])var L=b.easingFunction;else console.warn(r),L=Object.keys(m)[0];d={activeCls:d,aFn:e,bFn:g,disableCls:p,editCls:h,hidCls:l,hov:x,l1c:J,ly:V,res:[],rtl:W,speed:X,threshold:Y,effect:K,easeFn:L};if(b.breakpoints&&0<b.breakpoints.length)for(e=0;e<b.breakpoints.length;e++)g={bp:b.breakpoints[e].minWidth,hov:b.breakpoints[e].actOnHover,ly:b.breakpoints[e].layout},d.res&&d.res.push(g);c.o=d;b=c.o;d={hov:b.hov,ly:b.ly,bp:0};e=[];if(b.res&&0<b.res.length)for(g=b.res.length;g--;)e.push(b.res[g]);
e.push(d);b=T(e);if(b.val){d=[b.bp[0]];for(e=1;e<b.bp.length;)g=d[e-1],p=__assign(__assign({},g),b.bp[e]),"undefined"===typeof p.hov&&(p.hov=g.hov),"undefined"===typeof p.ly&&(p.ly=g.ly),d.push(p),e++;b=d}else b=[];c.bpall=b;c.eH=[];if(0<c.bpall.length){var C,D,E,F,k;c.focusables=[];O;b=(null===(k=c.root)||void 0===k?void 0:k.querySelectorAll(N))||[];for(f=0;f<(null===b||void 0===b?void 0:b.length);f++)k=b[f],!k||k.nodeType!==Node.ELEMENT_NODE||t(k,"disabled")||("undefined"!==typeof k.disabled?k.disabled:
k.hasAttribute("disabled")&&"false"!==k.getAttribute("disabled"))||c.focusables.push(b[f]);console.log("=======core.focusables",c.focusables);c.main=null===(C=c.root)||void 0===C?void 0:C.querySelector("[data-amegmen-main]");c.mask=null===(D=c.root)||void 0===D?void 0:D.querySelector("[data-amegmen-mask]");c.nav=null===(E=c.root)||void 0===E?void 0:E.querySelector("[data-amegmen-nav]");c.toggle=null===(F=c.root)||void 0===F?void 0:F.querySelector("[data-amegmen-toggle]");U(c);I(c)}q[a]=c}}(),Z=function(){function a(){var d=
this;this.init=function(c,b){v;w;P;var e=null===document||void 0===document?void 0:document.querySelectorAll(c),g=e.length,p=Object.keys(q).length;if(0<g){for(f=0;f<g;f++){var h=e[f].getAttribute("id"),l=!1;if(h)for(z=0;z<p;z++)if(q[h]){l=!0;break}if(!l){l=void 0;var x=e[f].getAttribute("[data-amegmen-auto]".slice(1,-1))||"";if(x)try{l=JSON.parse(B(x).replace(/'/g,'"'))}catch(J){console.error("Unable to parse the options string")}else l=b;h?new M(h,e[f],l):(h=h?h:__assign(__assign({},G),l).idPrefix+
"_"+(new Date).getTime()+"_root_"+(f+1),e[f].setAttribute("id",h),new M(h,e[f],l))}}window&&0<Object.keys(q).length&&!H&&(H=!0,window.addEventListener("resize",Q,!1))}else"[data-amegmen-auto]"!==c&&console.error('init() "'.concat(c,'": ').concat("Element(s) with the provided query do(es) not exist"))};this.initGlobal=function(){d.init("[data-amegmen-auto]",{})};this.destroy=function(c){c}}a.getInstance=function(){a.instance||(a.instance=new a);return a.instance};a.instance=null;return a}();u.Root=
Z})(AMegMen||(AMegMen={}));AMegMen.Root.getInstance().initGlobal();"object"===typeof exports&&"undefined"!==typeof module&&(module.exports=AMegMen);
