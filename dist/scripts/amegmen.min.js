var __assign=this&&this.__assign||function(){__assign=Object.assign||function(x){for(var n,p=1,B=arguments.length;p<B;p++){n=arguments[p];for(var v in n)Object.prototype.hasOwnProperty.call(n,v)&&(x[v]=n[v])}return x};return __assign.apply(this,arguments)},AMegMen;
(function(x){var n={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return.5>a?2*a*a:-1+(4-2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*
a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}},p=["slide","fade"],B="Animation effect function not found in presets. Try using one from (".concat(p.join(", "),"). Setting the animation effect to ").concat(p[0],"."),v="Easing function not found in presets. Try using one from [".concat(Object.keys(n).join(", "),"]. Setting the easing function to ").concat(Object.keys(n)[0],"."),K={activeClass:"__amegmen-active",actOnHover:!1,
animationEffect:p[0],animationSpeed:500,breakpoints:[],disabledClass:"__amegmen-disabled",easingFunction:"linear",editModeClass:"__amegmen-editmode",hiddenClass:"__amegmen-hidden",idPrefix:"__amegmen",isRtl:!1,l1Cols:3,layout:"mobile",touchThreshold:125},u={},f=0,t=0,C,L=!1,D=function(a){return a.replace(/^\s+|\s+$|\s+(?=\s)/g,"")},w=function(a,d){return"string"===typeof(null===a||void 0===a?void 0:a.className)?-1<a.className.split(" ").indexOf(d)?!0:!1:!1},y=function(a,d){if("string"===typeof(null===
a||void 0===a?void 0:a.className)){var c=d.split(" "),b=c.length;for(f=0;f<b;f++){var e=c[f];w(a,e)||(a.className+=" "+e)}a.className=D(a.className)}},z=function(a,d){if("string"===typeof(null===a||void 0===a?void 0:a.className)){var c=d.split(" "),b=a.className.split(" "),e=b.length;for(f=0;f<e;f++)-1<c.indexOf(b[f])&&(b.splice(f,1),f--);a.className=D(b.join(" "))}},U=function(a){return parseFloat(a.toFixed(4))},V=function(){"undefined"!==typeof C&&clearTimeout(C);C=setTimeout(function(){for(var a in u)u.hasOwnProperty(a)&&
M(u[a])},0)},W=function(a,d){for(var c=a.eH.length;c--;)a.eH[c].element.isEqualNode&&a.eH[c].element.isEqualNode(d)&&(a.eH[c].remove(),a.eH.splice(c,1))},X=function(a,d,c){W;var b={element:a,remove:function(){a.removeEventListener(d,c,!1)}};a.addEventListener(d,c,!1);return b},M=function(a){for(var d,c=null===window||void 0===window?void 0:window.innerWidth,b=a.bpall[0],e=0;e<a.bpall.length;){if(a.bpall[e+1]&&a.bpall[e+1].bp>c||"undefined"===typeof a.bpall[e+1]){b=a.bpall[e];break}e++}(a.bpoOld||
{}).bp!==b.bp&&(a.bpo=b,a.bpoOld=b,null===(d=a.root)||void 0===d?void 0:d.setAttribute("data-amegmen-viewport",b.ly))},Y=function(a){try{for(var d=[],c=a.length;c--;)-1===d.indexOf(a[c].bp)&&d.push(a[c].bp);if(d.length===a.length)return{val:!0,bp:a.sort(function(b,e){return parseFloat("".concat(b.bp))-parseFloat("".concat(e.bp))})};console.error("Duplicate breakpoints found");return{}}catch(b){return console.error("Error parsing breakpoints"),{}}},N=function(a){var d;(d=a)&&"object"===typeof d?("undefined"!==
typeof d.jquery&&(d=d[0]),d="undefined"!==typeof d.nodeType):d=!1;return d&&0!==a.getClientRects().length?"visible"===getComputedStyle(a).getPropertyValue("visibility"):!1},O=function(a){return!a||a.nodeType!==Node.ELEMENT_NODE||w(a,"disabled")?!0:"undefined"!==typeof a.disabled?a.disabled:a.hasAttribute("disabled")&&"false"!==a.getAttribute("disabled")},P=function(a){for(var d="",c='a button input textarea select details [tabindex] [contenteditable="true"]'.split(" "),b=c.length-1;0<=b;b--)d+="".concat(a,
" ").concat(c[b],':not([tabindex^="-"]),');return d.slice(0,-1)},Z=function(a){a.dom.toggle&&a.eH.push(X(a.dom.toggle,"click",function(){a.dom.mask&&a.dom.main&&a.dom.toggle&&(w(a.dom.toggle,"active")?z(a.dom.toggle,"active"):y(a.dom.toggle,"active"),w(a.dom.mask,"active")?z(a.dom.mask,"active"):y(a.dom.mask,"active"),w(a.dom.main,"active")?z(a.dom.main,"active"):y(a.dom.main,"active"))}))},T=function(){return function(a,d,c){var b=__assign(__assign({},K),c);"function"===typeof b.beforeInitFn&&b.beforeInitFn();
c={};c.root=d;d=b.activeClass;var e=b.afterInitFn,h=b.beforeInitFn,q=b.disabledClass,k=b.editModeClass,l=b.hiddenClass,A=b.actOnHover,Q=b.l1Cols,aa=b.layout,ba=b.isRtl,ca=b.animationSpeed,da=b.touchThreshold;if(-1<p.indexOf(b.animationEffect))var R=b.animationEffect;else console.warn(B),R=p[0];if(n[b.easingFunction])var S=b.easingFunction;else console.warn(v),S=Object.keys(n)[0];d={activeCls:d,aFn:e,bFn:h,disableCls:q,editCls:k,hidCls:l,hov:A,l1c:Q,ly:aa,res:[],rtl:ba,speed:ca,threshold:da,effect:R,
easeFn:S};if(b.breakpoints&&0<b.breakpoints.length)for(e=0;e<b.breakpoints.length;e++)h={bp:b.breakpoints[e].minWidth,hov:b.breakpoints[e].actOnHover,ly:b.breakpoints[e].layout},d.res&&d.res.push(h);c.o=d;b=c.o;d={hov:b.hov,ly:b.ly,bp:0};e=[];if(b.res&&0<b.res.length)for(h=b.res.length;h--;)e.push(b.res[h]);e.push(d);b=Y(e);if(b.val){d=[b.bp[0]];for(e=1;e<b.bp.length;)h=d[e-1],q=__assign(__assign({},h),b.bp[e]),"undefined"===typeof q.hov&&(q.hov=h.hov),"undefined"===typeof q.ly&&(q.ly=h.ly),d.push(q),
e++;b=d}else b=[];c.bpall=b;c.eH=[];if(0<c.bpall.length){var g,E,F,G,r,m,H,I,J;c.dom={};c.dom.main=null===(g=c.root)||void 0===g?void 0:g.querySelector("[data-amegmen-main]");c.dom.mask=null===(E=c.root)||void 0===E?void 0:E.querySelector("[data-amegmen-mask]");c.dom.nav=null===(F=c.root)||void 0===F?void 0:F.querySelector("[data-amegmen-nav]");c.dom.root=c.root;c.dom.toggle=null===(G=c.root)||void 0===G?void 0:G.querySelector("[data-amegmen-toggle]");if(g=null===(r=c.root)||void 0===r?void 0:r.querySelector("[data-amegmen-level='0']"))if(c.dom.l0ul=
{},c.dom.l0ul.el=g,c.dom.l0ul.li=[],(r=null===(m=c.root)||void 0===m?void 0:m.querySelectorAll("[data-amegmen-level='0'] > li"))&&0<(r||[]).length)for(f=0;f<(null===r||void 0===r?void 0:r.length);f++){m={};m.el=r[f];if((g=null===(H=c.root)||void 0===H?void 0:H.querySelector(P("".concat("[data-amegmen-level='0'] > li",":nth-child(").concat(f+1,") >"))))&&!O(g)&&N(g)&&(m.itm=g,g=null===(I=c.root)||void 0===I?void 0:I.querySelector("".concat("[data-amegmen-level='0'] > li",":nth-child(").concat(f+1,
") > ").concat("[data-amegmen-subnav='0']")))&&(m.sub={},m.sub.el=g,(g=null===(J=c.root)||void 0===J?void 0:J.querySelectorAll(P("".concat("[data-amegmen-level='0'] > li",":nth-child(").concat(f+1,") > ").concat("[data-amegmen-subnav='0']"))))&&0<g.length))for(m.sub.all=[],t=0;t<g.length;t++)!O(g[t])&&N(g[t]);c.dom.l0ul.li.push(m)}console.log("==========core.dom",c.dom);Z(c);M(c)}u[a]=c}}(),ea=function(){function a(){var d=this;this.init=function(c,b){y;z;U;var e=null===document||void 0===document?
void 0:document.querySelectorAll(c),h=e.length,q=Object.keys(u).length;if(0<h){for(f=0;f<h;f++){var k=e[f].getAttribute("id"),l=!1;if(k)for(t=0;t<q;t++)if(u[k]){l=!0;break}if(!l){l=void 0;var A=e[f].getAttribute("[data-amegmen-auto]".slice(1,-1))||"";if(A)try{l=JSON.parse(D(A).replace(/'/g,'"'))}catch(Q){console.error("Unable to parse the options string")}else l=b;k?new T(k,e[f],l):(k=k?k:__assign(__assign({},K),l).idPrefix+"_"+(new Date).getTime()+"_root_"+(f+1),e[f].setAttribute("id",k),new T(k,
e[f],l))}}window&&0<Object.keys(u).length&&!L&&(L=!0,window.addEventListener("resize",V,!1))}else"[data-amegmen-auto]"!==c&&console.error('init() "'.concat(c,'": ').concat("Element(s) with the provided query do(es) not exist"))};this.initGlobal=function(){d.init("[data-amegmen-auto]",{})};this.destroy=function(c){c}}a.getInstance=function(){a.instance||(a.instance=new a);return a.instance};a.instance=null;return a}();x.Root=ea})(AMegMen||(AMegMen={}));AMegMen.Root.getInstance().initGlobal();
"object"===typeof exports&&"undefined"!==typeof module&&(module.exports=AMegMen);
